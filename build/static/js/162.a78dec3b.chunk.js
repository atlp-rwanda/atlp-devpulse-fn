"use strict";(self.webpackChunkatlp_devpulse_fn=self.webpackChunkatlp_devpulse_fn||[]).push([[162],{1162:function(e,t,a){a.r(t),a.d(t,{default:function(){return T}});var r=a(1413),s=a(885),n=a(2791),l=a(9821),o=a(8687),d=(a(4666),a(1358)),x=a(7462),p=a(3366),c=a(8182),i=a(2421),u=a(104),m=a(2982),b=a(2466),f=a(114),h=["sx"];function y(e){var t,a=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(a){f.Gc[a]?t.systemProps[a]=e[a]:t.otherProps[a]=e[a]})),t}((0,p.Z)(e,h)),s=r.systemProps,n=r.otherProps;return t=Array.isArray(a)?[s].concat((0,m.Z)(a)):"function"===typeof a?function(){var e=a.apply(void 0,arguments);return(0,b.P)(e)?(0,x.Z)({},s,e):s}:(0,x.Z)({},s,a),(0,x.Z)({},n,{sx:t})}var g=a(886),j=a(184),v=["className","component"];var w=a(5902),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,a=e.defaultClassName,r=void 0===a?"MuiBox-root":a,s=e.generateClassName,l=e.styleFunctionSx,o=void 0===l?u.Z:l,d=(0,i.ZP)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(o),m=n.forwardRef((function(e,a){var n=(0,g.Z)(t),l=y(e),o=l.className,i=l.component,u=void 0===i?"div":i,m=(0,p.Z)(l,v);return(0,j.jsx)(d,(0,x.Z)({as:u,ref:a,className:(0,c.Z)(o,s?s(r):r),theme:n},m))}));return m}({defaultTheme:(0,a(4360).Z)(),defaultClassName:"MuiBox-root",generateClassName:w.Z.generate}),C=N,Z=a(2026),k=a(9546),P=a(1312),S=a(9126),E=a(8820),A=a(71),D=a(9889),T=(0,o.$j)((function(e){var t=e.cycles;return{allCycles:t,errors:t.errors}}),{getAllCycles:l.Yc,createCycle:l.e_,updateApplicationCycle:l.TI,deleteApplicationCycle:l.Lb})((function(e){var t=e.allCycles,a=(e.errors,t.data);(0,n.useEffect)((function(){e.getAllCycles()}),[]);var l=(0,n.useState)(null),o=(0,s.Z)(l,2),x=o[0],p=o[1],c=Boolean(x),i=(0,n.useState)(""),u=(0,s.Z)(i,2),m=u[0],b=u[1],f=(0,n.useState)(""),h=(0,s.Z)(f,2),y=h[0],g=h[1],v=(0,n.useState)(""),w=(0,s.Z)(v,2),N=w[0],T=w[1],B=(0,n.useState)(""),F=(0,s.Z)(B,2),H=F[0],_=F[1],z=(0,n.useState)(""),I=(0,s.Z)(z,2),M=I[0],G=I[1],L=(0,n.useState)(""),R=(0,s.Z)(L,2),O=R[0],Q=R[1],K=(0,n.useState)(""),U=(0,s.Z)(K,2),Y=U[0],$=U[1],q=(0,n.useState)(!1),J=(0,s.Z)(q,2),V=J[0],W=J[1],X=(0,n.useState)(!1),ee=(0,s.Z)(X,2),te=ee[0],ae=ee[1],re=(0,n.useState)(!1),se=(0,s.Z)(re,2),ne=se[0],le=se[1],oe=(0,n.useState)(void 0),de=(0,s.Z)(oe,2),xe=de[0],pe=de[1],ce=(0,n.useState)(""),ie=(0,s.Z)(ce,2),ue=ie[0],me=ie[1],be=function(e){e.preventDefault(),W(!1)},fe=function(){ae(!1)},he=function(){le(!1)};(0,n.useEffect)((function(){e.getAllCycles()}),[]);var ye=[{Header:"Name",accessor:"name"},{Header:"Starting date",accessor:"startDate"},{Header:"Closing date",accessor:"endDate"},{Header:" ",accessor:"",Cell:function(e){var t=e.row;return(0,j.jsx)("div",{children:(0,j.jsx)(S.FQA,{onClick:function(e){pe(t.id),p(e.currentTarget)},style:{color:"#000",fontSize:"20px"}})})}}],ge=(0,n.useMemo)((function(){return ye}),[]),je=(0,d.useTable)({columns:ge,data:a},d.usePagination),ve=je.getTableProps,we=je.getTableBodyProps,Ne=je.headerGroups,Ce=je.page,Ze=je.nextPage,ke=je.previousPage,Pe=je.canNextPage,Se=je.canPreviousPage,Ee=je.pageOptions,Ae=je.gotoPage,De=je.pageCount,Te=(je.setPageSize,je.state),Be=je.prepareRow,Fe=Te.pageIndex;Te.pageSize;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(D.Z,{}),(0,j.jsxs)("div",{className:"flex bg-[#F9F9FB] min-h-[100vh]",children:[(0,j.jsx)("div",{className:"min-h-[50vh] w-[100%] block mt-10 md:w-[100%] md:mt-0 pl-[16rem]  pt-[80px] md:pl-0",children:(0,j.jsxs)("div",{className:" table table-fixed w-[100%] top-[20%] md:top-[10%] pb-10 md:relative px-[10%] md:px-[10px]",children:[(0,j.jsxs)("button",{className:"h-[40px] rounded-[5px] bg-[#173b3f] text-white flex items-center p-0 pl-[5px] pr-[10px] mb-[20px]",onClick:function(){ae(!0)},children:[(0,j.jsx)(S.B8K,{className:"mx-[5px]"}),(0,j.jsx)("span",{children:"Cycle"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:" w-[100%] max-h-[70vh] m-auto  bg-[#fff] shadow-md rounded-[10px] relative pb-[20px]  overflow-x-auto  overflow-y-scroll \tmd:w-[100%]",children:(0,j.jsxs)("table",(0,r.Z)((0,r.Z)({},ve()),{},{className:"border-collapse w-[100%] m-auto rounded-[15px] whitespace-nowrap ",children:[(0,j.jsx)("thead",{className:" w-full px-32 sticky top-0",children:Ne.map((function(e,t){return(0,j.jsx)("tr",(0,r.Z)((0,r.Z)({},e.getHeaderGroupProps()),{},{className:"border-solid border-[1px] border-white even:bg-[#eef1f1] first:w-[20px]",children:e.headers.map((function(e,t){return(0,j.jsx)("th",(0,r.Z)((0,r.Z)({},e.getHeaderProps),{},{className:"border-solid pl-[30px] h-[50px] text-left bg-[#eef1f1]  first:rounded-tl-[10px] last:rounded-tr-[10px] border-b-[2px] border-[#c5c5c5] py-6   last:pl-[0px] w-[150px] last:w-[20px]  first:w-[20px]  ",children:e.render("Header")}),t)}))}),t)}))}),(0,j.jsx)("tbody",(0,r.Z)((0,r.Z)({},we()),{},{children:Ce.map((function(e){return Be(e),(0,n.createElement)("tr",(0,r.Z)((0,r.Z)({},e.getRowProps()),{},{key:e.original.id,className:"even:bg-[#eef1f1] border-b border-gray-200 "}),e.cells.map((function(e){return(0,j.jsx)("td",(0,r.Z)((0,r.Z)({},e.getCellProps()),{},{className:"pl-[30px] text-left max-w-[150px] overflow-x-auto p-4 last:w-[2px] last:pl-[0px]",children:e.render("Cell")}))})))}))}))]}))})," "]}),(0,j.jsx)("div",{className:"block mx-auto my-0 w-[100%]  bottom-0 overflow-x-auto",children:(0,j.jsxs)("div",{className:"w-[100%] flex items-center justify-center my-[30px]  mx-auto md:block md:mx-auto",children:[(0,j.jsxs)("span",{className:"flex items-center md:justify-center md:mt-[10px]",children:[" ",(0,j.jsx)("button",{className:"my-0 mx-[5px] px-[5px] py-0 text-[#333] h-[38px] border-solid border-[1px]  border-[#a8a8a8]  disabled:bg-[#E7E7E7] disabled:text-[#a8a8a8]",onClick:function(){return Ae(0)},disabled:!Se,children:(0,j.jsx)(E.xN8,{})}),(0,j.jsx)("button",{className:" border-solid border-[1px]  border-[#a8a8a8] py-0 px-[10px] text-[#333] rounded-l-[5px] h-[38px] disabled:bg-[#E7E7E7] disabled:text-[#a8a8a8] ",onClick:function(){return ke()},disabled:!Se,children:(0,j.jsx)(E.CF5,{})}),(0,j.jsx)("span",{className:"flex flex-wrap md:hidden ",id:"pages",children:null===Ee||void 0===Ee?void 0:Ee.map((function(e,t){return(0,j.jsx)("div",{children:(0,j.jsx)("button",{className:"border-solid border-[1px] mx-[2px]  border-[#a8a8a8] bg-[#fff] w-[35px] h-[38px]  active:bg-[#333] active:text-[#fff]-500 ".concat(Fe===t&&"bg-[#eef1f1]"),onClick:function(e){var t=e.target.innerText;Ae(t-1)},children:e+1})})}))}),(0,j.jsx)("button",{className:" border-solid border-[1px]  border-[#a8a8a8] py-0 px-[10px] text-[#333] rounded-r-[5px] h-[38px]  disabled:bg-[#E7E7E7] disabled:text-[#a8a8a8]",onClick:function(){return Ze()},disabled:!Pe,children:(0,j.jsx)(E.Td4,{})}),(0,j.jsx)("button",{className:"my-0 mx-[5px] px-[5px] py-0 text-[#333] h-[38px] border-solid border-[1px]  border-[#a8a8a8]  disabled:bg-[#E7E7E7] disabled:text-[#a8a8a8]",onClick:function(){return Ae(De-1)},disabled:!Pe,children:(0,j.jsx)(E.yci,{})})]})," ",(0,j.jsxs)("span",{className:"flex ml-3 md:justify-center  text-center md:mt-3 md:ml-0",children:["Page ",(0,j.jsxs)("strong",{children:[Fe+1," "]}),"of"," ",(0,j.jsx)("strong",{children:Ee.length})]})]})})]})}),(0,j.jsxs)(k.Z,{id:"basic-menu",anchorEl:x,open:c,onClose:function(){p(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,j.jsxs)(P.Z,{onClick:function(e){!function(e){var t=a[xe];W(!0),_(t.name),G(t.startDate),Q(t.endDate),$(t.id),p(null)}()},children:[(0,j.jsx)(S.Aac,{className:"mr-[5px]"}),"Edit"]}),(0,j.jsxs)(P.Z,{onClick:function(e){me(a[xe].id),le(!0),p(null)},children:[(0,j.jsx)(S.AuQ,{className:"mr-[5px]"}),"Delete"]})]}),(0,j.jsx)(Z.Z,{open:te,onClose:fe,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,j.jsx)(C,{className:"absolute w-[50%] top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] md:w-[90%]",children:(0,j.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault();var a={name:m,startDate:y,endDate:N};e.createCycle(a),ae(!1),setTimeout((function(){window.location.reload()}),3e3)},className:" relative w-[100%] rounded-[5px] h-[455px] m-auto p-[10px] pt-[5px] bg-[#f0f0f0] ",children:[(0,j.jsx)("h1",{className:"text-center font-bold text-[24px] m-[20px]",children:"Add new cycle"}),(0,j.jsx)(A.bjh,{className:"absolute top-[20px] right-[20px] text-[35px] cursor-pointer",onClick:fe}),(0,j.jsx)("hr",{style:{marginBottom:"40px"}}),(0,j.jsx)("input",{type:"text",name:"name",placeholder:"Cycle name",value:m,onChange:function(e){b(e.target.value)},className:" mt-3 bg-lime cursor-pointer text-[18px] self-center py-1 rounded-[5px] h-[50px] my-[20px] mx-auto w-[80%] block border-[2px] border-[#a8a8a8]  px-[10px] md:w-[90%]"}),(0,j.jsx)("input",{type:"date",name:"start date",value:y,onChange:function(e){g(e.target.value)},className:" mt-3 bg-lime cursor-pointer text-[18px] self-center py-1 rounded-[5px] h-[50px] my-[20px] mx-auto w-[80%] block border-[2px] border-[#a8a8a8]  px-[10px] md:w-[90%]"}),(0,j.jsx)("input",{type:"date",name:"end date",value:N,onChange:function(e){T(e.target.value)},className:" mt-3 bg-lime cursor-pointer text-[18px] self-center py-1 rounded-[5px] h-[50px] my-[20px] mx-auto w-[80%] block border-[2px] border-[#a8a8a8]  px-[10px] md:w-[90%]"}),(0,j.jsx)("button",{type:"submit",className:"text-white border-[1px] border-[#a8a8a8] h-[40px] w-[100px] block rounded-[5px] my-[10px] mx-[auto] bg-[#173b3f]",children:"Save"})]})})}),(0,j.jsx)(Z.Z,{open:ne,onClose:he,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,j.jsx)(C,{className:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] rounded-[5px] bg-[#f0f0f0]",children:(0,j.jsxs)("div",{className:"block w-[300px] h-[200px] bg-[#f0f0f0] rounded-[5px]",children:[(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)(E.ELj,{className:"w-[40px] my-[20px] mx-auto text-[40px]"}),(0,j.jsx)("p",{className:"w-[60%] m-auto font-bold",children:"Are you sure you want to delete this cycle?"})]}),(0,j.jsxs)("div",{className:"flex flex-wrap my-[20px] mx-0",children:[(0,j.jsx)("button",{className:"block text-white bg-[#940000] my-[10px] mx-auto rounded-[5px] w-[100px] h-[40px]",onClick:function(t){t.preventDefault();var a={deleteApplicationCycleId:ue};e.deleteApplicationCycle(a),le(!1),setTimeout((function(){window.location.reload()}),3e3)},children:"Delete"}),(0,j.jsx)("button",{className:"h-[40px] w-[100px] block rounded-[5px] my-[10px] mx-auto bg-[#ABB8C3] text-[#fff]",onClick:he,children:"Cancel"})]})]})})}),(0,j.jsx)(Z.Z,{open:V,onClose:be,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,j.jsx)(C,{className:"absolute w-[50%] top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] md:w-[90%]",children:(0,j.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault();var a={updateApplicationCycleId:Y,name:H,startDate:M,endDate:O,id:Y};e.updateApplicationCycle(a),W(!1)},className:"relative rounded-[5px] w-[100%] h-[455px] m-auto p-[10px] pt-[5px] bg-[#f0f0f0] ",children:[(0,j.jsx)("h1",{className:"text-center font-bold text-[24px] m-[20px]",children:"Update cycle"}),(0,j.jsx)(A.bjh,{style:{position:"absolute",top:"20px",right:"20px",fontSize:"35px",cursor:"pointer"},onClick:be}),(0,j.jsx)("hr",{style:{marginBottom:"40px"}}),(0,j.jsx)("input",{type:"text",name:"name",placeholder:"Cycle name",value:H,onChange:function(e){_(e.target.value)},className:" mt-3 bg-lime cursor-pointer text-[18px] self-center py-1 rounded-[5px] h-[50px] my-[20px] mx-auto w-[80%] block border-[2px] border-[#a8a8a8]  px-[10px] md:w-[90%]"}),(0,j.jsx)("input",{type:"date",name:"start date",value:M,onChange:function(e){G(e.target.value)},className:" mt-3 bg-lime cursor-pointer text-[18px] self-center py-1 rounded-[5px] h-[50px] my-[20px] mx-auto w-[80%] block border-[2px] border-[#a8a8a8]  px-[10px] md:w-[90%]"}),(0,j.jsx)("input",{type:"date",name:"end date",value:O,onChange:function(e){Q(e.target.value)},className:" mt-3 bg-lime cursor-pointer text-[18px] self-center py-1 rounded-[5px] h-[50px] my-[20px] mx-auto w-[80%] block border-[2px] border-[#a8a8a8]  px-[10px] md:w-[90%]"}),(0,j.jsx)("div",{className:"flex flex-wrap w-[300px] m-auto",children:(0,j.jsx)("button",{className:"text-white border-[1px] border-[#a8a8a8] h-[40px] w-[100px] block rounded-[5px] my-[10px] mx-[auto] bg-[#173b3f]",type:"submit",children:"Save"})})]})})})]})]})}))}}]);
//# sourceMappingURL=162.a78dec3b.chunk.js.map